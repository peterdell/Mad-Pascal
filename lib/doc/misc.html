<html>
<head>
	<link rel='stylesheet' type='text/css' href='pasdoc.css'>
	<title>unit misc - reference</title>
</head>
<body>

<!--********************* HEADER **************************-->

<h1>unit misc</h1>
<h3>Miscellaneous procedures for detect additional hardware</h3>
<p>author: Konrad Kokoszkiewicz, Tomasz Biela</p>


<!--********************* CONSTANTS **************************-->





<!--********************* TYPES **************************-->





<!--********************* ABSOLUTE VARIABLES **************************-->

<h2>Register Variables:</h2>
<table class='registers'>
<tr><th>name:</th><th>address:</th><th>type:</th><th>description:</th></tr>

<tr><td class='tname'>banks</td><td class='taddress'>__PORTB_BANKS</td><td class='ttype'>array [0..63] of byte</td><td class='tdesc'>array with code of banks PORTB</td></tr>
<tr><td class='tname'>DetectOS</td><td class='taddress'>$fff7</td><td class='ttype'>byte</td><td class='tdesc'></td></tr>

</table>

<!--********************* GLOBAL VARIABLES **************************-->





<!--********************* INTERFACE **************************-->

<h2>Interface:</h2>
<table class='interface'>
<tr><th>name:</th><th>description:</th></tr>

<tr><td class='tname fname'>DetectHighMem</td><td class='tdesc'><h4>function DetectHighMem: word;</h4><br>
	Detect 65816 linear memory <br> <a href='http://atariki.krap.pl/index.php/Obliczenie_rozmiaru_pami%C4%99ci_liniowej'>http://atariki.krap.pl/index.php/Obliczenie_rozmiaru_pami%C4%99ci_liniowej</a><br><ul><h5>returns:</h5><li class='returns'>amount of memory in KB</li></ul></td></tr>
<tr><td class='tname fname'>DetectVBXE</td><td class='tdesc'><h4>function DetectVBXE(var p: word): Boolean; assembler; register;</h4><br>
	Detect VBXE card<br><ul><h5>parameters:</h5><li>word variable</li><h5>returns:</h5><li class='returns'>TRUE present, FALSE otherwise</li><li class='returns'>bit 0..6 variable: VBXE CORE</li><li class='returns'>bit 7 variable: =1 RAMBO</li><li class='returns'>bit 8..15 variable: VBXE PAGE</li></ul></td></tr>
<tr><td class='tname fname'>DetectEvie</td><td class='tdesc'><h4>function DetectEvie: Boolean; assembler;</h4><br>
	Detect EVIE card<br><ul><h5>returns:</h5><li class='returns'>TRUE present, FALSE otherwise</li></ul></td></tr>
<tr><td class='tname fname'>DetectStereo</td><td class='tdesc'><h4>function DetectStereo: Boolean; assembler;</h4><br>
	Second POKEY detect routine <br> author: Seban/SLIGHT <br> (c) 1995,96<br><ul><h5>returns:</h5><li class='returns'>TRUE present, FALSE otherwise</li></ul></td></tr>
<tr><td class='tname fname'>DetectCPU</td><td class='tdesc'><h4>function DetectCPU: byte; assembler;</h4><br>
	How to detect on which CPU the assembler code is running <br> (This information is from Konrad Kokoszkiewicz (drac030), the author of SYSINFO 2.0) <br> You can test on plain 6502-Code if there is a 65c816 CPU, the 16-Bit processor avaible <br> in some XLs as a turbo-board, avaible. Draco told me how to do this: <br> First we make sure, whether we are running on NMOS-CPU (6502) or CMOS (65c02,65c816). <br> I will just show the "official" way which doesn`t uses "illegal opcodes":<br><ul><h5>returns:</h5><li class='returns'>$00 - 6502</li><li class='returns'>$01 - 65c02</li><li class='returns'>$80 - 65816</li></ul></td></tr>
<tr><td class='tname fname'>DetectCPUSpeed</td><td class='tdesc'><h4>function DetectCPUSpeed: real;</h4><br>
	Detect CPU speed in megahertz <br> author: Konrad Kokoszkiewicz<br><ul><h5>returns:</h5><li class='returns'>speed (REAL Q24.8)</li></ul></td></tr>
<tr><td class='tname fname'>DetectMem</td><td class='tdesc'><h4>function DetectMem: byte; assembler;</h4><br>
	Detect amount additional memory PORTB<br><ul><h5>returns:</h5><li class='returns'>amount of banks (0..255)</li><li class='returns'>banks code PORTB = BANKS[0..63] at address $0101</li></ul></td></tr>
<tr><td class='tname fname'>DetectMapRam</td><td class='tdesc'><h4>function DetectMapRam: Boolean; assembler;</h4><br>
	Detect MapRAM <br> <a href='http://xxl.atari.pl/mapram/'>http://xxl.atari.pl/mapram/</a><br><ul><h5>returns:</h5><li class='returns'>TRUE present, FALSE otherwise</li></ul></td></tr>
<tr><td class='tname fname'>DetectBASIC</td><td class='tdesc'><h4>function DetectBASIC: byte; assembler;</h4><br>
	Detect BASIC<br><ul><h5>returns:</h5><li class='returns'>162 = 'Atari Basic Rev.A'</li><li class='returns'>96 = 'Atari Basic Rev.B'</li><li class='returns'>234 = 'Atari Basic Rev.C'</li></ul></td></tr>

</table>

<!--********************* FOOTER **************************-->

<br>
<div class='footer'>This documentation was generated using <a href='https://gitlab.com/bocianu/pasdoc' target='_blank'>PasDoc</a>.</div>
</body>
</html>
